---
import Button from "./Button.astro";
---

<form id="newsletter-sign-up">
  <input id="email-input" placeholder="Email" name="email" type="text" />
  <label for="email-input txt-shadow">Email:</label>
  <div id="newsletter-submit-container">
    <Button text="Get Our Newsletter" id="submit" />
  </div>
</form>

<script is:inline>
  document.getElementById("submit").addEventListener("click", function (event) {
    event.preventDefault();

    const userInput = document.getElementById("email-input");

    // validate user input

    // send error messages to ui if necessary

    // send email to Brevo

    // popup a new screen
    console.log(`Email submitted: ${userInput.value}`);
    userInput.value = "";
  });
</script>

<style>
  .form {
  }

  input {
    box-shadow: 3px 4px 0 rgba(0, 0, 0, 1);
    display: block;
    width: 100%;
    height: 3rem;
    border-radius: 7px;
    background-color: var(--color-background);
    font-weight: 300;
    padding-left: 4.5rem;
    box-sizing: border-box;
    font-size: 1rem;
  }

  input:focus {
    box-shadow: 6px 8px 4px rgba(0, 0, 0, 0.8);
    outline: none;
  }

  input:focus-visible {
    border: none;
  }

  input::placeholder {
    visibility: hidden;
  }

  label {
    position: relative;
    font-weight: 600;
    top: -2.15rem;
    left: 1rem;
  }

  #newsletter-submit-container {
    display: flex;
    justify-content: center;
    width: 100%;
  }
</style>
